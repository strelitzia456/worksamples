(function(a){a.widget("gemsquash.offcanvas_menu",{options:{buttonSelector:"offcanvas-menu-toggle",navClass:"is-visible",navElement:".primary-nav",navElementList:".primary-nav__list"},_create:function(){var b=this;b._navigation=b.element.find(b.options.navElement);b._navigationList=b.element.find(b.options.navElementList);b._timeoutId=null;b._first=true;b._open=false;b._on((function(){var c={};c["click ."+b.options.buttonSelector]=b._toggleMenu;return c})());b._on(window,{resize:b._resizeHandler,orientationchange:b._resizeHandler,load:b._resizeHandler})},_toggleMenu:function(c){var b=this;c.preventDefault();b._open===false?b._openMenu():b._closeMenu()},_resizeHandler:function(){var b=this,c=b.window.width();if(b._windowWidth===c){return}b._windowWidth=c;clearTimeout(b._timeoutId);b._timeoutId=setTimeout(function(){b._offsetTop=b._navigationList.outerHeight(true);!b._open?b._navigation.css({top:-b._offsetTop}):"";if(b._first){b.element.removeClass("is-init");b._closeMenu();b._first=false}},100)},_openMenu:function(){var b=this;b._open=true;b._navigation.addClass(b.options.navClass).css({top:0})},_closeMenu:function(c){var b=this;b._open=false;b._navigation.removeClass(b.options.navClass).css({top:-b._offsetTop})},_destroy:function(){var b=this;b._navigation.removeClass(b.options.navClass)}})})(jQuery);